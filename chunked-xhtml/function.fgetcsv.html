<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP-Handbuch: Liest eine Zeile von der Position des Dateizeigers und 
   pr&uuml;ft diese auf Komma-Separierte-Werte (CSV)</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP-Handbuch</a></li>
  <li class="header up"><a href="funcref.html">Funktionsreferenz</a></li>
  <li class="header up"><a href="refs.fileprocess.file.html">Dateisystemrelevante Erweiterungen</a></li>
  <li class="header up"><a href="book.filesystem.html">Dateisystem</a></li>
  <li class="header up"><a href="ref.filesystem.html">Dateisystem</a></li>
  <li><a href="function.basename.html">basename</a></li>
  <li><a href="function.chgrp.html">chgrp</a></li>
  <li><a href="function.chmod.html">chmod</a></li>
  <li><a href="function.chown.html">chown</a></li>
  <li><a href="function.clearstatcache.html">clearstatcache</a></li>
  <li><a href="function.copy.html">copy</a></li>
  <li><a href="function.delete.html">delete</a></li>
  <li><a href="function.dirname.html">dirname</a></li>
  <li><a href="function.disk-free-space.html">disk_free_space</a></li>
  <li><a href="function.disk-total-space.html">disk_total_space</a></li>
  <li><a href="function.diskfreespace.html">diskfreespace</a></li>
  <li><a href="function.fclose.html">fclose</a></li>
  <li><a href="function.feof.html">feof</a></li>
  <li><a href="function.fflush.html">fflush</a></li>
  <li><a href="function.fgetc.html">fgetc</a></li>
  <li class="active"><a href="function.fgetcsv.html">fgetcsv</a></li>
  <li><a href="function.fgets.html">fgets</a></li>
  <li><a href="function.fgetss.html">fgetss</a></li>
  <li><a href="function.file-exists.html">file_exists</a></li>
  <li><a href="function.file-get-contents.html">file_get_contents</a></li>
  <li><a href="function.file-put-contents.html">file_put_contents</a></li>
  <li><a href="function.file.html">file</a></li>
  <li><a href="function.fileatime.html">fileatime</a></li>
  <li><a href="function.filectime.html">filectime</a></li>
  <li><a href="function.filegroup.html">filegroup</a></li>
  <li><a href="function.fileinode.html">fileinode</a></li>
  <li><a href="function.filemtime.html">filemtime</a></li>
  <li><a href="function.fileowner.html">fileowner</a></li>
  <li><a href="function.fileperms.html">fileperms</a></li>
  <li><a href="function.filesize.html">filesize</a></li>
  <li><a href="function.filetype.html">filetype</a></li>
  <li><a href="function.flock.html">flock</a></li>
  <li><a href="function.fnmatch.html">fnmatch</a></li>
  <li><a href="function.fopen.html">fopen</a></li>
  <li><a href="function.fpassthru.html">fpassthru</a></li>
  <li><a href="function.fputcsv.html">fputcsv</a></li>
  <li><a href="function.fputs.html">fputs</a></li>
  <li><a href="function.fread.html">fread</a></li>
  <li><a href="function.fscanf.html">fscanf</a></li>
  <li><a href="function.fseek.html">fseek</a></li>
  <li><a href="function.fstat.html">fstat</a></li>
  <li><a href="function.ftell.html">ftell</a></li>
  <li><a href="function.ftruncate.html">ftruncate</a></li>
  <li><a href="function.fwrite.html">fwrite</a></li>
  <li><a href="function.glob.html">glob</a></li>
  <li><a href="function.is-dir.html">is_dir</a></li>
  <li><a href="function.is-executable.html">is_executable</a></li>
  <li><a href="function.is-file.html">is_file</a></li>
  <li><a href="function.is-link.html">is_link</a></li>
  <li><a href="function.is-readable.html">is_readable</a></li>
  <li><a href="function.is-uploaded-file.html">is_uploaded_file</a></li>
  <li><a href="function.is-writable.html">is_writable</a></li>
  <li><a href="function.is-writeable.html">is_writeable</a></li>
  <li><a href="function.lchgrp.html">lchgrp</a></li>
  <li><a href="function.lchown.html">lchown</a></li>
  <li><a href="function.link.html">link</a></li>
  <li><a href="function.linkinfo.html">linkinfo</a></li>
  <li><a href="function.lstat.html">lstat</a></li>
  <li><a href="function.mkdir.html">mkdir</a></li>
  <li><a href="function.move-uploaded-file.html">move_uploaded_file</a></li>
  <li><a href="function.parse-ini-file.html">parse_ini_file</a></li>
  <li><a href="function.parse-ini-string.html">parse_ini_string</a></li>
  <li><a href="function.pathinfo.html">pathinfo</a></li>
  <li><a href="function.pclose.html">pclose</a></li>
  <li><a href="function.popen.html">popen</a></li>
  <li><a href="function.readfile.html">readfile</a></li>
  <li><a href="function.readlink.html">readlink</a></li>
  <li><a href="function.realpath-cache-get.html">realpath_cache_get</a></li>
  <li><a href="function.realpath-cache-size.html">realpath_cache_size</a></li>
  <li><a href="function.realpath.html">realpath</a></li>
  <li><a href="function.rename.html">rename</a></li>
  <li><a href="function.rewind.html">rewind</a></li>
  <li><a href="function.rmdir.html">rmdir</a></li>
  <li><a href="function.set-file-buffer.html">set_file_buffer</a></li>
  <li><a href="function.stat.html">stat</a></li>
  <li><a href="function.symlink.html">symlink</a></li>
  <li><a href="function.tempnam.html">tempnam</a></li>
  <li><a href="function.tmpfile.html">tmpfile</a></li>
  <li><a href="function.touch.html">touch</a></li>
  <li><a href="function.umask.html">umask</a></li>
  <li><a href="function.unlink.html">unlink</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.fgetc.html">fgetc</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.fgets.html">fgets</a></div>
                <div class="up"><a href="ref.filesystem.html">Dateisystem</a></div>
                <div class="home"><a href="index.html">PHP-Handbuch</a></div>
            </div><hr/>
<div id="function.fgetcsv" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">fgetcsv</h1>
  <p class="refpurpose">
   Liest eine Zeile von der Position des Dateizeigers und 
   prüft diese auf Komma-Separierte-Werte (CSV)
  </p>
 </div>

<div class="refsect1 description" id="refsect1-function.fgetcsv-description">
  <h3 class="title">Beschreibung</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname">fgetcsv</span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$handle</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$length</code><span class="initializer"> = 0</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$delimiter</code><span class="initializer"> = &quot;,&quot;</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$enclosure</code><span class="initializer"> = &#039;&quot;&#039;</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$escape</code><span class="initializer"> = &quot;\&quot;</span></span>
  ]]]] )</div>

  <p class="para rdfs-comment">
   Die Funktion <span class="function">fgetcsv</span> ist ähnlich der Funktion
   <span class="function">fgets</span>, nur dass <span class="function">fgetcsv</span>
   die eingelesene Zeile auf Felder im <acronym class="acronym">CSV</acronym> Format
   (kommaseparierte Felder) hin überprüft, und ein Array mit den
   gelesenen Feldern zurückgibt.
  </p>
 </div>


<div class="refsect1 parameters" id="refsect1-function.fgetcsv-parameters">
  <h3 class="title">Parameter-Liste</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">handle</code></dt>

     <dd>

      <p class="para">
       Ein gültiger Dateizeiger auf eine Datei, die zuvor mit
       <span class="function">fopen</span>, <span class="function">popen</span> oder
       <span class="function">fsockopen</span> geöffnet wurde.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">length</code></dt>

     <dd>

      <p class="para">
       Muss größer als die längste Zeile (in Zeichen), die in der CSV
       Datei vorhanden ist, sein (dies erlaubt die Erkennung abschließender
       Zeilenende Zeichen). Andernfalls wird die Zeile in Blöcke von 
       <code class="parameter">length</code> Zeichen aufgeteilt, es sei denn, die
       Aufteilung würde innerhalb einer Feldbegrenzung erfolgen.
      </p>
      <p class="para"> 
       Wird dieser
       Paramter ausgelassen (oder in PHP 5.1.0 und später auf 0 gesetzt),
       ist die maximale Zeilenlänge nicht begrenzt, was ein wenig langsamer
       ist.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">delimiter</code></dt>

     <dd>

      <p class="para">
       Der optionale Parameter <code class="parameter">delimiter</code> setzt das 
       Feld-Trennzeichen (nur ein Zeichen).
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">enclosure</code></dt>

     <dd>

      <p class="para">
       Der optionale Parameter <code class="parameter">enclosure</code> setzt das 
       Feld-Begrenzungs Zeichen (nur ein Zeichen).
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">escape</code></dt>

     <dd>

      <p class="para">
       Der optionale Parameter <code class="parameter">escape</code> setzt das
       Maskierungs-Zeichen (nur ein Zeichen). 
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.fgetcsv-returnvalues">
  <h3 class="title">Rückgabewerte</h3>
  <p class="para">
   Gibt ein numerisch indexiertes Array zurück, das die gelesenen Felder
   enthält.
  </p>
  <blockquote class="note"><p><strong class="note">Hinweis</strong>: 
   <p class="para">
    Ein leere Zeile in einer CSV Datei wird als ein Array zurückgegeben, das
    ein einzelnes <span class="type">null</span> Feld enthält und wird nicht als Fehler
    behandelt.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Hinweis</strong>: <span class="simpara">Wenn Sie Probleme damit haben, dass
PHP Zeilenendezeichen nicht erkennt, entweder beim Lesen von Dateien auf einem
Macintosh oder bei Dateien, die auf einem Macintosh erstellt wurden, können Sie
die Option <a href="filesystem.configuration.html#ini.auto-detect-line-endings" class="link">
auto_detect_line_endings</a> aktivieren.</span></p></blockquote>
  <p class="para">
   <span class="function">fgetcsv</span> gibt <strong><code>NULL</code></strong> zurück, wenn ein ungültiger
   <code class="parameter">handle</code> übergeben wurde oder <strong><code>FALSE</code></strong> bei anderen
   Fehlern einschließlich Dateiende.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.fgetcsv-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Beschreibung</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        Der <code class="parameter">escape</code> Parameter wurde ergänzt
       </td>
      </tr>

      <tr>
       <td>5.1.0</td>
       <td>
        Der Parameter <code class="parameter">length</code> ist nun optional.
        Standard ist <em>0</em>, d.h. keine Längenbeschränkung.
        
       </td>
      </tr>

      <tr>
       <td>4.3.5</td>
       <td>
        <span class="function">fgetcsv</span> ist nun &quot;binary safe&quot;
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.fgetcsv-examples">
  <h3 class="title">Beispiele</h3>
  <p class="para">
   <div class="example" id="example-2563">
    <p><strong>Beispiel #1 Lies und gib den gesamten Inhalt einer CSV Datei aus</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />if&nbsp;((</span><span style="color: #0000BB">$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"test.csv"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"r"</span><span style="color: #007700">))&nbsp;!==&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;((</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fgetcsv</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">","</span><span style="color: #007700">))&nbsp;!==&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$num&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&gt;&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #DD0000">&nbsp;Felder&nbsp;in&nbsp;Zeile&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #DD0000">:&nbsp;&lt;br&nbsp;/&gt;&lt;/p&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</span><span style="color: #0000BB">$c</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">$c</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.fgetcsv-notes">
  <h3 class="title">Anmerkungen</h3>
  <blockquote class="note"><p><strong class="note">Hinweis</strong>: 
   <p class="para">
    Die Spracheinstellung (locale) wird von dieser Funktion beachtet. Wenn
    <var class="varname">LANG</var> z.B. den Wert <em>en_US.UTF-8</em> hat,
    werden Dateien in Ein-byte-Kodierung von dieser Funktion falsch gelesen.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.fgetcsv-seealso">
  <h3 class="title">Siehe auch</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function">str_getcsv</span></li>
    <li class="member"><span class="function">explode</span></li>
    <li class="member"><span class="function">file</span></li>
    <li class="member"><span class="function">pack</span></li>
    <li class="member"><span class="function">fputcsv</span></li>
   </ul>
  </p>
 </div>


</div>
        </td>
    </tr>
</table>
</body>
</html>
