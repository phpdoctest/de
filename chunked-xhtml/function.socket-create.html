<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP-Handbuch: Erzeugt einen Socket (Endpunkt f&uuml;r die Kommunikation)</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP-Handbuch</a></li>
  <li class="header up"><a href="funcref.html">Funktionsreferenz</a></li>
  <li class="header up"><a href="refs.remote.other.html">Sonstige Dienste</a></li>
  <li class="header up"><a href="book.sockets.html">Sockets</a></li>
  <li class="header up"><a href="ref.sockets.html">Socket-Funktionen</a></li>
  <li><a href="function.socket-accept.html">socket_accept</a></li>
  <li><a href="function.socket-bind.html">socket_bind</a></li>
  <li><a href="function.socket-clear-error.html">socket_clear_error</a></li>
  <li><a href="function.socket-close.html">socket_close</a></li>
  <li><a href="function.socket-cmsg-space.html">socket_cmsg_space</a></li>
  <li><a href="function.socket-connect.html">socket_connect</a></li>
  <li><a href="function.socket-create-listen.html">socket_create_listen</a></li>
  <li><a href="function.socket-create-pair.html">socket_create_pair</a></li>
  <li class="active"><a href="function.socket-create.html">socket_create</a></li>
  <li><a href="function.socket-get-option.html">socket_get_option</a></li>
  <li><a href="function.socket-getopt.html">socket_getopt</a></li>
  <li><a href="function.socket-getpeername.html">socket_getpeername</a></li>
  <li><a href="function.socket-getsockname.html">socket_getsockname</a></li>
  <li><a href="function.socket-import-stream.html">socket_import_stream</a></li>
  <li><a href="function.socket-last-error.html">socket_last_error</a></li>
  <li><a href="function.socket-listen.html">socket_listen</a></li>
  <li><a href="function.socket-read.html">socket_read</a></li>
  <li><a href="function.socket-recv.html">socket_recv</a></li>
  <li><a href="function.socket-recvfrom.html">socket_recvfrom</a></li>
  <li><a href="function.socket-recvmsg.html">socket_recvmsg</a></li>
  <li><a href="function.socket-select.html">socket_select</a></li>
  <li><a href="function.socket-send.html">socket_send</a></li>
  <li><a href="function.socket-sendmsg.html">socket_sendmsg</a></li>
  <li><a href="function.socket-sendto.html">socket_sendto</a></li>
  <li><a href="function.socket-set-block.html">socket_set_block</a></li>
  <li><a href="function.socket-set-nonblock.html">socket_set_nonblock</a></li>
  <li><a href="function.socket-set-option.html">socket_set_option</a></li>
  <li><a href="function.socket-setopt.html">socket_setopt</a></li>
  <li><a href="function.socket-shutdown.html">socket_shutdown</a></li>
  <li><a href="function.socket-strerror.html">socket_strerror</a></li>
  <li><a href="function.socket-write.html">socket_write</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.socket-create-pair.html">socket_create_pair</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.socket-get-option.html">socket_get_option</a></div>
                <div class="up"><a href="ref.sockets.html">Socket-Funktionen</a></div>
                <div class="home"><a href="index.html">PHP-Handbuch</a></div>
            </div><hr/>
<div id="function.socket-create" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">socket_create</h1>
  <p class="refpurpose">Erzeugt einen Socket (Endpunkt für die Kommunikation)</p>
 </div>

 <div class="refsect1 description" id="refsect1-function.socket-create-description">
  <h3 class="title">Beschreibung</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">resource</span> <span class="methodname">socket_create</span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$domain</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$type</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$protocol</code></span>
   )</div>

  <p class="para rdfs-comment">
   Erzeugt einen Socket (auch als Kommunikations-Endpunkt bezeichnet) und 
   gibt einen Socket-Deskriptor zurück. Ein typisches Netzwerk besteht aus 
   zwei Sockets, von denen der eine die Rolle des Clients und der andere die
   Rolle des Servers übernimmt.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.socket-create-parameters">
  <h3 class="title">Parameter-Liste</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">domain</code></dt>

     <dd>

      <p class="para">
       <code class="parameter">domain</code> Parameter legt die Protokollfamilie
       fest, die  für die Kommunikation vom Socket benutzt wird. 
      </p>
      <table class="doctable table">
       <caption><strong>Folgende Adressen/Protokollfamilien sind verfügbar:</strong></caption>
       
        <thead>
         <tr>
          <th>Domain</th>
          <th>Beschreibung</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td>AF_INET</td>
          <td>
           IPv4 basierete Internet-Protokolle. TCP und UDP sind allgemein
           gebräuchliche Protokolle dieser Familie.
          </td>
         </tr>

         <tr>
          <td>AF_INET6</td>
          <td>
           IPv6 basierete Internet-Protokolle. TCP und UDP sind allgemein
           gebräuchliche Protokolle dieser Familie. Diese Unterstützung gibt es
           seit PHP 5.0.0.
          </td>
         </tr>

         <tr>
          <td>AF_UNIX</td>
          <td>
           Protokollfamilie für die lokale Kommunikation. Hohe Effizienz und 
           ein geringer Overhead machen sie zur ersten Wahl für die IPC
           (Inter-Process-Communication).
          </td>
         </tr>

        </tbody>
       
      </table>

     </dd>

    
    
     <dt>
<code class="parameter">type</code></dt>

     <dd>

      <p class="para">
       Der Parameter <code class="parameter">type</code> bestimmt den Kommunikationstyp,
       den der Socket verwenden soll.
      </p>
      <table class="doctable table">
       <caption><strong>Mögliche Socket-Typen</strong></caption>
       
        <thead>
         <tr>
          <th>Typ</th>
          <th>Beschreibung</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td>SOCK_STREAM</td>
          <td>
           Stellt zuverlässige, sequentielle verbindungsorientierte Byte-Streams
           im Vollduplexmodus zur Verfügung. Auch bandexterne Mechanismen zur
           Datenübertragung können unterstützt werden. Das TCP-Protokoll beruht
           auf diesem Socket-Typ.
          </td>
         </tr>

         <tr>
          <td>SOCK_DGRAM</td>
          <td>
           Unterstützt Datagramme (verbindunglos, Nachrichten vorgegebener
           Maximallänge, deren Übertragung nicht zuverlässig ist). Das 
           UDP-Protokoll beruht auf diesem Socket-Typ.   
          </td>
         </tr>

           <tr>
          <td>SOCK_SEQPACKET</td>
          <td>
           Stellt eine zuverlässige, sequentielle. bidirektionale 
           verbindungsorientierte Übertragungsweg für Datagramme vorgegebener
            Maximallänge zur Verfügung. Ein Empfänger muss bei jeder 
            Leseanforderung das gesamte Datenpaket lesen.
          </td>
         </tr>

         <tr>
          <td>SOCK_RAW</td>
          <td>
           Stellt einen Zugang mit einem nicht bestimmten Netzwerkprotokoll zur
           Verfügung. Dieser spezielle Socket-Typ kann dazu benutzt werden, um 
           manuell ein Protokoll eines beliebigen Typs zu erstellen. Solche 
           Sockets werden üblicherweise benutzt, um ICMP Requests zu senden 
           (wie etwa ping oder traceroute usw.). 
          </td>
         </tr>

         <tr>
          <td>SOCK_RDM</td>
          <td>
           Stellt eine zuverlässige Schicht für Datagramme zur Verfügung, in der
           die Reihenfolge der Datagramme nicht garantiert wird. Dies ist in
           Ihrem Betriebssytem höchstwahrscheinlich nicht implementiert.
          </td>
         </tr>

        </tbody>
       
      </table>

     </dd>

    
    
     <dt>
<code class="parameter">protocol</code></dt>

     <dd>

      <p class="para">
       Der Parameter <code class="parameter">protocol</code> setzt das spezifische 
       Protokoll innerhalb der angegebenen <code class="parameter">domain</code>, das 
       vom zurückgegebenen Socket für die Kommunikation benutzt wird. Der 
       passende Wert kann ermittelt werden, indem der Name des Protokolls an 
       die Funktion <span class="function">getprotobyname</span> übergeben wird. Wenn 
       TCP oder UDP gewünscht werden, können auch die entsprechenden Konstanten
       <strong><code>SOL_TCP</code></strong> und <strong><code>SOL_UDP</code></strong> benutzt werden.
      </p>
      <table class="doctable table">
       <caption><strong>Gebräuchliche Protokolle</strong></caption>
       
        <thead>
         <tr>
          <th>Name</th>
          <th>Beschreibung</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td>icmp</td>
          <td>
           Das Internet Control Message Protocol wird hauptsächlich von 
           Gateways und Hosts benutzt, um Kommunikationsfehler bei Datagrammen
           zu melden. Das Kommando &quot;ping&quot; (das in den meisten modernen
           Betriebssystemen enthalten ist) ist ein Beispiel für eine Anwendung
           von ICMP.
          </td>
         </tr>

         <tr>
          <td>udp</td>
          <td>
           Das User Datagram Protocol ist ein verbindungsloses, unzuverlässiges
           Protokoll, mit dem Datensätze fester Länge versendet werden können.
           Aufgrund dieser geringen Anforderungen braucht UDP nur einen 
           minimalen Protokoll-Overhead.
          </td>
         </tr>

         <tr>
          <td>tcp</td>
          <td>
           Das Transmission Control Protocol ist ein zuverlässiges, 
           verbindungsorientiertes, Stream-orientiertes Protokoll für den
           Vollduplex-Betrieb. Bei TCP ist garantiert, dass alle Datenpakete in
           derselben Reihenfolge empfangen werden, in der sie gesendet wurden.
           Falls während der Übertragung ein Datenpaket verlorengeht, wird es
           von TCP erneut versendet, und zwar solange, bis der Empfängerhost den
           Eingang dieses Paktes zurückmeldet. Aus Gründen der Zuverlässigkeit
           und Leistung ist TCP so implementiert, dass es eigenständig die 
           oktalen Grenzen der darunterliegenden Datagramm-Kommunikationschicht
           bestimmen kann. Aus diesem Grund müssen TCP Anwendungen in der Lage
           sein, auch Teilübertragungen empfangen zu können.
          </td>
         </tr>

        </tbody>
       
      </table>

     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.socket-create-returnvalues">
  <h3 class="title">Rückgabewerte</h3>
  <p class="para">
   Bei Erfolg gibt <span class="function">socket_create</span> einen Socket-Deskriptor 
   zurück, bei einem Fehler wird <strong><code>FALSE</code></strong> zurückgegeben. Der aktuelle Fehlercode
   kann mit <span class="function">socket_last_error</span> ermittelt und an die Funktion
   <span class="function">socket_strerror</span> übergeben werden, um eine textuelle 
   Beschreibing des Fehlers zu erhalten.
  </p>
 </div>
    

 <div class="refsect1 errors" id="refsect1-function.socket-create-errors">
  <h3 class="title">Fehler/Exceptions</h3>
   <p class="para">
    Falls eine ungültige <code class="parameter">domain</code> oder ein ungültiger 
    <code class="parameter">type</code> angegbeben wird, fällt <span class="function">socket_create</span>
    auf seinen Standardeinstellungen <strong><code>AF_INET</code></strong> und
    entsprechend <strong><code>SOCK_STREAM</code></strong> zurück und gibt zusätzlich
    eine <strong><code>E_WARNING</code></strong>-Meldung aus.
   </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.socket-create-seealso">
  <h3 class="title">Siehe auch</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function">socket_accept</span></li>
    <li class="member"><span class="function">socket_bind</span></li>
    <li class="member"><span class="function">socket_connect</span></li>
    <li class="member"><span class="function">socket_listen</span></li>
    <li class="member"><span class="function">socket_last_error</span></li>
    <li class="member"><span class="function">socket_strerror</span></li>
   </ul>
  </p>
 </div>


</div>
        </td>
    </tr>
</table>
</body>
</html>
