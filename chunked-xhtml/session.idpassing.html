<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP-Handbuch: &Uuml;bermittlung der Session-ID</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP-Handbuch</a></li>
  <li class="header up"><a href="funcref.html">Funktionsreferenz</a></li>
  <li class="header up"><a href="refs.basic.session.html">Session-Erweiterungen</a></li>
  <li class="header up"><a href="book.session.html">Sessions</a></li>
  <li class="header up"><a href="session.examples.html">Beispiele</a></li>
  <li><a href="session.examples.basic.html">Grundlegende Anwendung</a></li>
  <li class="active"><a href="session.idpassing.html">&Uuml;bermittlung der Session-ID</a></li>
  <li><a href="session.customhandler.html">Individuelle Session-Routinen</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="session.examples.basic.html">Grundlegende Anwendung</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="session.customhandler.html">Individuelle Session-Routinen</a></div>
                <div class="up"><a href="session.examples.html">Beispiele</a></div>
                <div class="home"><a href="index.html">PHP-Handbuch</a></div>
            </div><hr/>
<div id="session.idpassing" class="section">
  <h2 class="title">Übermittlung der Session-ID</h2>
  <p class="para">
   Es gibt zwei Methoden, eine Session-ID zu übermitteln:
   <ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      Cookies
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      URL-Parameter
     </span>
    </li>
   </ul>
  </p>
  <p class="para">
   Das Session-Modul unterstützt beide Methoden. Cookies sind optimal, aber da
   sie nicht immer zur Verfügung stehen, bieten wir auch noch eine Alternative
   an. Die zweite Methode hängt die Session-ID direkt an die URLs.
  </p>
  <p class="para">
   PHP ist in der Lage, Links transparent umzuwandeln. Falls Sie nicht PHP
   4.2.0 oder höher verwenden, müssen Sie das beim Übersetzen von PHP manuell
   aktivieren. Unter Unix müssen Sie dazu configure mit <a href="session.configuration.html#ini.session.use-trans-sid" class="link"> --enable-trans-sid</a> aufrufen.
   Wenn diese Option und die Laufzeit-Option
   <em>session.use_trans_sid</em> aktiviert sind, werden relative
   URIs automatisch so geändert, dass sie die Session-ID enthalten.
   <blockquote class="note"><p><strong class="note">Hinweis</strong>: 
    <p class="para">
     Die <var class="filename">php.ini</var>-Anweisung <a href="ini.core.html#ini.arg-separator.output" class="link">arg_separator.output</a> ermöglicht
     es, die Trennung von Argumenten anzupassen. Geben Sie dort für volle
     XHTML-Konformität &amp;amp; an.
    </p>
   </p></blockquote>
  </p>
  <p class="para">
   Alternativ kann die Konstante <strong><code>SID</code></strong> verwendet werden,
   die definiert ist, nachdem die Session gestartet wurde. Falls der Client
   kein geeignetes Session-Cookie gesendet hat, hat sie die Form
   <em>session_name=session_id</em>. Andernfalls wird sie zu einer
   leeren Zeichenkette erweitert. Aus diesem Grund kann sie bedingungslos in
   URLs eingebettet werden.
  </p>
  <p class="para">
   Das folgende Beispiel demonstriert, wie eine Variable registriert wird und
   wie unter Verwendung einer <strong><code>SID</code></strong> korrekt auf eine andere
   Seite verwiesen wird.
   <div class="example" id="example-5256">
    <p><strong>Beispiel #1 Zählen der Seitenaufrufe eines einzelnen Benutzers</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />session_start</span><span style="color: #007700">();<br /><br />if&nbsp;(empty(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'zaehler'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'zaehler'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'zaehler'</span><span style="color: #007700">]++;<br />}<br /></span><span style="color: #0000BB">?&gt;<br /></span><br />&lt;p&gt;<br />Hallo&nbsp;Besucher,&nbsp;Sie&nbsp;haben&nbsp;diese&nbsp;Seite&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'zaehler'</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">?&gt;</span>&nbsp;mal<br />aufgerufen.<br />&lt;/p&gt;<br /><br />&lt;p&gt;<br />Hier&nbsp;gehts<br />&lt;a&nbsp;href="nextpage.php?<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #0000BB">SID</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">?&gt;</span>"&gt;weiter&lt;/a&gt;.<br />&lt;/p&gt;</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   Die Funktion <span class="function">htmlspecialchars</span> kann dazu verwendet
   werden, um bei der Ausgabe der <strong><code>SID</code></strong> XSS-ähnliche
   Angriffe zu verhindern.
  </p>
  <p class="para">
   Die oben gezeigte Ausgabe der <strong><code>SID</code></strong> ist nicht nötig,
   wenn PHP mit <a href="session.configuration.html#ini.session.use-trans-sid" class="link">--enable-trans-sid</a> übersetzt
   wurde.
  </p>
  <blockquote class="note"><p><strong class="note">Hinweis</strong>: 
   <p class="para">
    Bei nichtrelativen URLs wird davon ausgegangen, dass sie auf externe
    Seiten zeigen und deshalb keine <strong><code>SID</code></strong> angehängt, weil
    es ein Sicherheitsrisiko wäre, die <strong><code>SID</code></strong> an einen
    anderen Server zu übermitteln.
   </p>
  </p></blockquote>
 </div>
        </td>
    </tr>
</table>
</body>
</html>
