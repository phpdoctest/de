<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP-Handbuch: Installiert einen benutzerdefinierten Exceptionhandler</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP-Handbuch</a></li>
  <li class="header up"><a href="funcref.html">Funktionsreferenz</a></li>
  <li class="header up"><a href="refs.basic.php.html">Das Verhalten von PHP beeinflussen</a></li>
  <li class="header up"><a href="book.errorfunc.html">Fehlerbehandlung</a></li>
  <li class="header up"><a href="ref.errorfunc.html">Fehlerbehandlungsfunktionen</a></li>
  <li><a href="function.debug-backtrace.html">debug_backtrace</a></li>
  <li><a href="function.debug-print-backtrace.html">debug_print_backtrace</a></li>
  <li><a href="function.error-clear-last.html">error_clear_last</a></li>
  <li><a href="function.error-get-last.html">error_get_last</a></li>
  <li><a href="function.error-log.html">error_log</a></li>
  <li><a href="function.error-reporting.html">error_reporting</a></li>
  <li><a href="function.restore-error-handler.html">restore_error_handler</a></li>
  <li><a href="function.restore-exception-handler.html">restore_exception_handler</a></li>
  <li><a href="function.set-error-handler.html">set_error_handler</a></li>
  <li class="active"><a href="function.set-exception-handler.html">set_exception_handler</a></li>
  <li><a href="function.trigger-error.html">trigger_error</a></li>
  <li><a href="function.user-error.html">user_error</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.set-error-handler.html">set_error_handler</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.trigger-error.html">trigger_error</a></div>
                <div class="up"><a href="ref.errorfunc.html">Fehlerbehandlungsfunktionen</a></div>
                <div class="home"><a href="index.html">PHP-Handbuch</a></div>
            </div><hr/>
<div id="function.set-exception-handler" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">set_exception_handler</h1>
  <p class="refpurpose">
   Installiert einen benutzerdefinierten Exceptionhandler
  </p>
 </div>

 <div class="refsect1 description" id="refsect1-function.set-exception-handler-description">
  <h3 class="title">Beschreibung</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">callable</span> <span class="methodname">set_exception_handler</span>
    ( <span class="methodparam"><span class="type">callable</span> <code class="parameter">$exception_handler</code></span>
   )</div>

  <p class="para rdfs-comment">
   Setzt den Standardexceptionhandler für Exceptions die nicht
   von einem try/catch Block aufgefangen wurden. Nach dem 
   Aufruf von <code class="parameter">exception_handler</code> wird
   die Ausführung angehalten.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.set-exception-handler-parameters">
  <h3 class="title">Parameter-Liste</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">exception_handler</code></dt>

     <dd>

      <p class="para">
       Name der Funktion die aufgerufen werden soll wenn eine nicht
       aufgefangene Exception auftritt. Die Funktion muss einen Parameter akzeptieren,
       dieser enthält beim Aufruf das nicht aufgefangene Exception
       Objekt. Das ist die Signatur des Handlers vor PHP 7:
      </p>
      <p class="para">
       <div class="methodsynopsis dc-description">
        <span class="type">void</span> <span class="methodname"><span class="replaceable">handler</span></span>
         ( <span class="methodparam"><span class="type">Exception</span> <code class="parameter">$ex</code></span>
        )</div>

      </p>
       <p class="para">
       Seit PHP 7 werden die meisten Fehler durch Werfen von
       <span class="classname">Error</span>-Exceptions gemeldet, die ebenfalls vom Handler
       gefangen werden. Sowohl <span class="classname">Error</span> als auch
       <span class="classname">Exception</span> implementieren das <span class="classname">Throwable</span>-Interface.
       Dies ist die Handler-Signatur seit PHP 7:
      </p>
      <p class="para">
       <div class="methodsynopsis dc-description">
        <span class="type">void</span> <span class="methodname"><span class="replaceable">handler</span></span>
         ( <span class="methodparam"><span class="type">Throwable</span> <code class="parameter">$ex</code></span>
        )</div>

      </p>
     <p class="para">
       Statt dessen kann <strong><code>NULL</code></strong> übergeben werden, um den Handler auf seinen
       Standardwert zurück zu setzen.
      </p>
      <div class="caution"><strong class="caution">Achtung</strong>
       <p class="para">
        Es ist zu beachten, dass die Angabe des expliziten
        <span class="classname">Exception</span> Typ-Hints für den
        <code class="parameter">ex</code> Parameter in Ihrem Callback Probleme mit der
        geänderten Exception-Hierarchie von PHP 7 verursachen kann.
       </p>
      </div>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.set-exception-handler-returnvalues">
  <h3 class="title">Rückgabewerte</h3>
  <p class="para">
   Gibt den Namen des zuvor definierten Exceptionhandlers zurück
   oder <strong><code>NULL</code></strong> bei Fehlern oder wenn kein vorheriger Exceptionhandler
   installiert war.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.set-exception-handler-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Beschreibung</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.0.0</td>
       <td>
        Der Typ des Parameters, der als <code class="parameter">exception_handler</code>
        übergeben wird, wurde von <span class="classname">Exception</span> in
        <span class="classname">Throwable</span> geändert.
       </td>
      </tr>

      <tr>
       <td>5.5.0</td>
       <td>
        Zuvor gab diese Funktion <strong><code>TRUE</code></strong> zurück, wenn <strong><code>NULL</code></strong> übergeben wurde.
        Seit PHP 5.5.0 wird der vorherige Handler zurück gegeben.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.set-exception-handler-examples">
  <h3 class="title">Beispiele</h3>
  <p class="para">
   <div class="example" id="example-490">
    <p><strong>Beispiel #1 <span class="function">set_exception_handler</span> Beispiel</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">exception_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$exception</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Nicht&nbsp;aufgefangene&nbsp;Exception:&nbsp;"&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$exception</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">set_exception_handler</span><span style="color: #007700">(</span><span style="color: #DD0000">'exception_handler'</span><span style="color: #007700">);<br /><br />throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'Nicht&nbsp;aufgefangene&nbsp;Exception'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"Nicht&nbsp;ausgeführt.\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.set-exception-handler-seealso">
  <h3 class="title">Siehe auch</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function">restore_exception_handler</span></li>
    <li class="member"><span class="function">restore_error_handler</span></li>
    <li class="member"><span class="function">error_reporting</span></li>
    <li class="member">Informationen über den <a href="language.pseudo-types.html#language.types.callback" class="link">Callback</a>-Typ</li>
    <li class="member"><a href="language.exceptions.html" class="link">PHP 5 Exceptions</a></li>
   </ul>
  </p>
 </div>


</div>
        </td>
    </tr>
</table>
</body>
</html>
