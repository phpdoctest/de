<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP-Handbuch: Auflistung der Optionen f&uuml;r SSL-Kontexte</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP-Handbuch</a></li>
  <li class="header up"><a href="langref.html">Sprachreferenz</a></li>
  <li class="header up"><a href="context.html">Kontextoptionen und -parameter</a></li>
  <li><a href="context.socket.html">Socket context options</a></li>
  <li><a href="context.http.html">HTTP context options</a></li>
  <li><a href="context.ftp.html">FTP-Kontextoptionen</a></li>
  <li class="active"><a href="context.ssl.html">SSL-Kontext-Optionen</a></li>
  <li><a href="context.curl.html">CURL Kontextoptionen</a></li>
  <li><a href="context.phar.html">Phar Kontextoptionen</a></li>
  <li><a href="context.mongodb.html">MongoDB context options</a></li>
  <li><a href="context.params.html">Kontextparameter</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="context.ftp.html">FTP-Kontextoptionen</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="context.curl.html">CURL Kontextoptionen</a></div>
                <div class="up"><a href="context.html">Kontextoptionen und -parameter</a></div>
                <div class="home"><a href="index.html">PHP-Handbuch</a></div>
            </div><hr/>
<div id="context.ssl" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">SSL-Kontext-Optionen</h1>
  <p class="refpurpose">Auflistung der Optionen für SSL-Kontexte</p>
 </div>

 <div class="refsect1 description" id="refsect1-context.ssl-description">
  <h3 class="title">Beschreibung</h3>
  <p class="para">
   Kontextoptionen für die <em>ssl://</em> und <em>tls://</em>
   Übermittlung.
  </p>
 </div>


 <div class="refsect1 options" id="refsect1-context.ssl-options">
  <h3 class="title">Optionen</h3>
  <p class="para">
   <dl>

    
    <dt id="context.ssl.peer-name">
     <code class="parameter">peer_name</code>
     <span class="type">string</span>
    </dt>

    <dd>

     <p class="para">
      Zu verwendender Peer-Name. Wird dieser Wert nicht gesetzt, so wird ein
      Name anhand des Hostnamen erraten, sobald der Stream geöffnet wird.
     </p>
    </dd>

    
    
     <dt id="context.ssl.verify-peer">
      <code class="parameter">verify_peer</code>
      <span class="type">boolean</span>
     </dt>

     <dd>

      <p class="para">
       Verifizierung des verwendeten SSL-Zertifikats voraussetzen.
      </p>
      <p class="para">
       Standardmäßig <strong><code>TRUE</code></strong>.
      </p>
     </dd>

    
    
     <dt id="context.ssl.verify-peer-name">
      <code class="parameter">verify_peer_name</code>
      <span class="type">boolean</span>
     </dt>

     <dd>

      <p class="para">
       Erfordere die Verfikation des Peernamens.
      </p>
      <p class="para">
       Standardmäßig <strong><code>TRUE</code></strong>.
      </p>
     </dd>

    
    
     <dt id="context.ssl.allow-self-signed">
      <code class="parameter">allow_self_signed</code>
      <span class="type">boolean</span>
     </dt>

     <dd>

      <p class="para">
       Selbst signierte Zerifikate erlauben. Setzt 
       <a href="context.ssl.html#context.ssl.verify-peer" class="link"><code class="parameter">verify_peer</code></a>
       voraus.
      </p>
      <p class="para">
       Standardmäßig <strong><code>FALSE</code></strong>
      </p>
     </dd>

    
    
     <dt id="context.ssl.cafile">
      <code class="parameter">cafile</code>
      <span class="type">string</span>
     </dt>

     <dd>

      <p class="para">
       Speicherort der Datei der Zertifizierungsstelle (CA) auf dem lokalen
       Dateisystem, welche im Zusammenhang mit der <em>verify_peer</em>
       -Option verwendet werden soll, um die Identität der Gegenstelle zu
       authentifizieren.
      </p>
     </dd>

    
    
     <dt id="context.ssl.capath">
      <code class="parameter">capath</code>
      <span class="type">string</span>
     </dt>

     <dd>

      <p class="para">
       Falls <em>cafile</em> nicht angegeben wurde oder dort das
       Zertifikat nicht gefunden wurde, so wird das durch <em>capath</em> 
       angegebene Verzeichnis nach einem passenden Zertifikat durchsucht.
       <em>capath</em> muss ein korrekt gehashtes Zertifikatsverzeichnis sein.
      </p>
     </dd>

    
    
     <dt id="context.ssl.local-cert">
      <code class="parameter">local_cert</code>
      <span class="type">string</span>
     </dt>

     <dd>

      <p class="para">
       Pfad zur lokalen Zertifikatsdatei im Dateisystem. Dies muss eine
       im PEM-Format gespeicherte Datei sein welche das Zertifikat und
       den privaten Schlüssel enthält. Optional kann dies die Kette an
       Herausgeberzertifikaten enthalten.
      </p>
     </dd>

    
    
     <dt id="context.ssl.passphrase">
      <code class="parameter">passphrase</code>
      <span class="type">string</span>
     </dt>

     <dd>

      <p class="para">
       Passphrase mit der die <em>local_cert</em>-Datei
       gespeichert wurde.
      </p>
     </dd>

    
    
     <dt id="context.ssl.cn-match">
      <code class="parameter">CN_match</code>
      <span class="type">string</span>
     </dt>

     <dd>

      <p class="para">
       Der erwartete Common Name. PHP wird eine eingeschränkte Prüfung auf
       Wildcards vornehmen. Wenn der Common Name nicht diesem Wert entspricht, so
       wird der Verbindungsaufbau fehlschlagen.
      </p>
      <blockquote class="note"><p><strong class="note">Hinweis</strong>: 
        <span class="simpara">
        Diese Option ist seit PHP 5.6.0 zugunsten von <code class="parameter">peer_name</code>
        veraltet.
        </span>
      </p></blockquote>
     </dd>

    
    
     <dt id="context.ssl.verify-depth">
      <code class="parameter">verify_depth</code>
      <span class="type">integer</span>
     </dt>

     <dd>

      <p class="para">
       Abbruch, wenn die Zertifikatskette zu tief ist.
      </p>
      <p class="para">
       Standardmäßig keine Prüfung.
      </p>
     </dd>

    
    
     <dt id="context.ssl.ciphers">
      <code class="parameter">ciphers</code>
      <span class="type">string</span>
     </dt>

     <dd>

      <p class="para">
       Setzt die Liste der verfügbaren Verschlüsselungsalgorithmen. Das Format
       dieser Zeichenkette wird in 
       <a href="https://www.openssl.org/docs/manmaster/man1/ciphers.html#CIPHER-LIST-FORMAT" class="link external">&raquo;&nbsp;ciphers(1)</a> beschrieben.
      </p>
      <p class="para">
       Standardmäßig auf <em>DEFAULT</em> gesetzt
      </p>
     </dd>

    
    
     <dt id="context.ssl.capture-peer-cert">
      <code class="parameter">capture_peer_cert</code>
      <span class="type">boolean</span>
     </dt>

     <dd>

      <p class="para">
       Falls dies auf <strong><code>TRUE</code></strong> gesetzt ist, so wird die Kontextoption
       <em>peer_certificate</em> angelegt, welche das Zertifikat der
       Gegenstelle enthält.
      </p>
     </dd>

    
    
     <dt id="context.ssl.capture-peer-cert-chain">
      <code class="parameter">capture_peer_cert_chain</code>
      <span class="type">boolean</span>
     </dt>

     <dd>

      <p class="para">
       Falls dies auf <strong><code>TRUE</code></strong> gesetzt ist, so wird die Kontextoption
       <em>peer_certificate_chain</em> angelegt, welche die
       Zertifikatskette enthält.  
      </p>
     </dd>

    
    
     <dt id="context.ssl.sni-enabled">
      <code class="parameter">SNI_enabled</code>
      <span class="type">boolean</span>
     </dt>

     <dd>

      <p class="para">
       Falls dies auf <strong><code>TRUE</code></strong> gesetzt wird, so wird Server Name Indication
       eingeschaltet. Die Verwendung von SNI erlaubt die Benutzung von
       mehreren Zertifikaten unter der gleichen IP-Adresse.
      </p>
     </dd>

    
    
     <dt id="context.ssl.sni-server-name">
      <code class="parameter">SNI_server_name</code>
      <span class="type">string</span>
     </dt>

     <dd>

      <p class="para">
       Ist dies gesetzt, so wird der angegebene Wert als der Servername für
       die Server Name Indication verwendet. Ist dieser Wert nicht angegeben,
       so wird der Server Name anhand des Hostnamens beim Öffnen des Streams
       geraten.
      </p>
      <blockquote class="note"><p><strong class="note">Hinweis</strong>: 
          <span class="simpara">
          Diese Option ist seit PHP 5.6.0 zugunsten von <code class="parameter">peer_name</code>
          veraltet.
          </span>
       </p></blockquote>
     </dd>

    
    
     <dt id="context.ssl.disable-compression">
      <code class="parameter">disable_compression</code>
      <span class="type">boolean</span>
     </dt>

     <dd>

      <p class="para">
       Wenn dies gesetzt wird, so wird TLS-Komprimierung ausgeschaltet. Dies kann
       den Angriffsvektor für CRIME-Angriffe umgehen.
      </p>
     </dd>

    
    
     <dt id="context.ssl.peer-fingerprint">
      <code class="parameter">peer_fingerprint</code>
      <span class="type">string</span> | <span class="type">array</span>
     </dt>

     <dd>

      <p class="para">
       Beendet die Verbindung, wenn der Fingerabdruck des entfernten Zertifikats nicht
       dem angegebenen Hashwert entspricht. 
      </p>
      <p class="para">
       Wird ein <span class="type">String</span> verwendet, so wird der zu verwendende Hashalgorithmus anhand
       der Länge der Zeichenkette ermittelt, entweder &quot;md5&quot; (32) oder &quot;sha1&quot; (40).
      </p>
      <p class="para">
       Wird ein <span class="type">Array</span> verwendet, so geben die Schlüsselnamen den Namen des
       Hashalgorithmus an und jeder zugehörige Wert entspricht dem erwarteten Fingerabdruck. 
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-context.ssl-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Beschreibung</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.6.0</td>
       <td>
        Die Parameter <code class="parameter">peer_fingerprint</code> und <code class="parameter">verify_peer_name</code>
        wurden hinzugefügt. Der Standardwert für <code class="parameter">verify_peer</code> wurde zu <strong><code>TRUE</code></strong>
        geändert.
       </td>
      </tr>

      <tr>
       <td>5.4.13</td>
       <td>
        <code class="parameter">disable_compression</code> hinzugefügt. Benötigt OpenSSL &gt;= 1.0.0.
       </td>
      </tr>

      <tr>
       <td>5.3.2</td>
       <td>
        <code class="parameter">SNI_enabled</code> und
        <code class="parameter">SNI_server_name</code> hinzugefügt.
       </td>
      </tr>

      <tr>
       <td>5.0.0</td>
       <td>
        <code class="parameter">capture_peer_cert</code>,
        <code class="parameter">capture_peer_chain</code> und
        <code class="parameter">ciphers</code> hinzugefügt.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-context.ssl-notes">
  <h3 class="title">Anmerkungen</h3>
  <blockquote class="note"><p><strong class="note">Hinweis</strong>: 
   <span class="simpara">
    Weil <em>ssl://</em> die den Wrappern
    <a href="wrappers.http.html" class="link"><em>https://</em></a> und
    <a href="wrappers.ftp.html" class="link"><em>ftps://</em></a> zugrunde
    liegende Übertragungsschicht ist, können alle Optionen die für 
    <em>ssl://</em> verwendet werden können ebenfalls bei 
    <em>https://</em> und <em>ftps://</em> angewendet
    werden.
   </span>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Hinweis</strong>: 
   <span class="simpara">
    Damit SNI (Server Name Indication) verfügbar ist muss PHP mit OpenSSL 0.9.8j
    oder neuer kompiliert sein. Die Konstante 
    <strong><code>OPENSSL_TLSEXT_SERVER_NAME</code></strong> kann zur Prüfung, ob SNI 
    verfügbar ist, herangezogen werden.
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-context.ssl-seealso">
  <h3 class="title">Siehe auch</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="context.socket.html" class="xref">Socket context options</a></li>
   </ul>
  </p>
 </div>


</div>
        </td>
    </tr>
</table>
</body>
</html>
