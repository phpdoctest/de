<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP-Handbuch: &Ouml;ffnet eine persistente Verbindung zu einer SQLite-Datenbank und erzeugt diese im Bedarfsfall</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP-Handbuch</a></li>
  <li class="header up"><a href="funcref.html">Funktionsreferenz</a></li>
  <li class="header up"><a href="refs.database.html">Datenbankerweiterungen</a></li>
  <li class="header up"><a href="refs.database.vendors.html">Anbieterspezifische Datenbankerweiterungen</a></li>
  <li class="header up"><a href="book.sqlite.html">SQLite</a></li>
  <li class="header up"><a href="ref.sqlite.html">SQLite Funktionen</a></li>
  <li><a href="function.sqlite-array-query.html">sqlite_array_query</a></li>
  <li><a href="function.sqlite-busy-timeout.html">sqlite_busy_timeout</a></li>
  <li><a href="function.sqlite-changes.html">sqlite_changes</a></li>
  <li><a href="function.sqlite-close.html">sqlite_close</a></li>
  <li><a href="function.sqlite-column.html">sqlite_column</a></li>
  <li><a href="function.sqlite-create-aggregate.html">sqlite_create_aggregate</a></li>
  <li><a href="function.sqlite-create-function.html">sqlite_create_function</a></li>
  <li><a href="function.sqlite-current.html">sqlite_current</a></li>
  <li><a href="function.sqlite-error-string.html">sqlite_error_string</a></li>
  <li><a href="function.sqlite-escape-string.html">sqlite_escape_string</a></li>
  <li><a href="function.sqlite-exec.html">sqlite_exec</a></li>
  <li><a href="function.sqlite-factory.html">sqlite_factory</a></li>
  <li><a href="function.sqlite-fetch-all.html">sqlite_fetch_all</a></li>
  <li><a href="function.sqlite-fetch-array.html">sqlite_fetch_array</a></li>
  <li><a href="function.sqlite-fetch-column-types.html">sqlite_fetch_column_types</a></li>
  <li><a href="function.sqlite-fetch-object.html">sqlite_fetch_object</a></li>
  <li><a href="function.sqlite-fetch-single.html">sqlite_fetch_single</a></li>
  <li><a href="function.sqlite-fetch-string.html">sqlite_fetch_string</a></li>
  <li><a href="function.sqlite-field-name.html">sqlite_field_name</a></li>
  <li><a href="function.sqlite-has-more.html">sqlite_has_more</a></li>
  <li><a href="function.sqlite-has-prev.html">sqlite_has_prev</a></li>
  <li><a href="function.sqlite-key.html">sqlite_key</a></li>
  <li><a href="function.sqlite-last-error.html">sqlite_last_error</a></li>
  <li><a href="function.sqlite-last-insert-rowid.html">sqlite_last_insert_rowid</a></li>
  <li><a href="function.sqlite-libencoding.html">sqlite_libencoding</a></li>
  <li><a href="function.sqlite-libversion.html">sqlite_libversion</a></li>
  <li><a href="function.sqlite-next.html">sqlite_next</a></li>
  <li><a href="function.sqlite-num-fields.html">sqlite_num_fields</a></li>
  <li><a href="function.sqlite-num-rows.html">sqlite_num_rows</a></li>
  <li><a href="function.sqlite-open.html">sqlite_open</a></li>
  <li class="active"><a href="function.sqlite-popen.html">sqlite_popen</a></li>
  <li><a href="function.sqlite-prev.html">sqlite_prev</a></li>
  <li><a href="function.sqlite-query.html">sqlite_query</a></li>
  <li><a href="function.sqlite-rewind.html">sqlite_rewind</a></li>
  <li><a href="function.sqlite-seek.html">sqlite_seek</a></li>
  <li><a href="function.sqlite-single-query.html">sqlite_single_query</a></li>
  <li><a href="function.sqlite-udf-decode-binary.html">sqlite_udf_decode_binary</a></li>
  <li><a href="function.sqlite-udf-encode-binary.html">sqlite_udf_encode_binary</a></li>
  <li><a href="function.sqlite-unbuffered-query.html">sqlite_unbuffered_query</a></li>
  <li><a href="function.sqlite-valid.html">sqlite_valid</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.sqlite-open.html">sqlite_open</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.sqlite-prev.html">sqlite_prev</a></div>
                <div class="up"><a href="ref.sqlite.html">SQLite Funktionen</a></div>
                <div class="home"><a href="index.html">PHP-Handbuch</a></div>
            </div><hr/>
<div id="function.sqlite-popen" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sqlite_popen</h1>
  <p class="refpurpose">
   Öffnet eine persistente Verbindung zu einer SQLite-Datenbank und erzeugt diese im Bedarfsfall
  </p>
 </div>

 <div class="refsect1 description" id="refsect1-function.sqlite-popen-description">
  <h3 class="title">Beschreibung</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">resource</span> <span class="methodname">sqlite_popen</span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$mode</code><span class="initializer"> = 0666</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter reference">&$error_message</code></span>
  ]] )</div>

  <p class="simpara">
   Diese Funktion verhält sich identisch zu <span class="function">sqlite_open</span>
   mit dem Unterschied, dass sie den persistenten Mechanismus von PHP nutzt.
   Detailliertere Informationen, was die Parameter bedeuten, finden Sie in der
   Dokumentation zu <span class="function">sqlite_open</span>.
  </p>
  <p class="para">
   <span class="function">sqlite_open</span> testet als erstes, ob schon eine persistente
   Verbindung für den übergebenen <code class="parameter">filename</code> existiert. 
   Wenn eine Verbindung gefunden wird, wird diese zurückgegeben, 
   ansonsten wird eine neue aufgebaut.
  </p>
  <p class="para">
   Der Vorteil dieser Methode ist, dass Sie nicht die Leistungseinbußen in
   Kauf nehmen müssen, die wiederholtes Lesen der Datenbank und des Index-Schemas
   bei jedem Aufruf der Seite, welche durch die persistente Webserver SAPI 
   (jede SAPI außer für reguläre CGi und CLI) ausgeliefert wird, mit sich bringt. 
  </p>
  <blockquote class="note"><p><strong class="note">Hinweis</strong>: 
   <span class="simpara">
    Wenn Sie persistente Verbindungen nutzen und Sie die Datenbank mittels einees 
    Hintergrund-Prozesses (vielleicht mittels der crontab) aktualisieren und 
    dieser Prozess die Datenbank wiederherstellt in dem er diese überschreibt 
    (entweder durch Löschen und Wiederherstellen oder durch Verschieben der 
    aktualisierten Version an die Stelle der aktuellen Version, 
    um diese dadurch zu ersetzen), kann es zu einem undefinierten Verhalten kommen,
    wenn die persistente Verbindung, welches noch auf die &#039;alte&#039; Version der Datenbank
    zeigt, wiederverwendet wird.
   </span>
   <span class="simpara">
    Um diese Situation zu verhindern, sollten die Hintergrund-Prozesse die selbe
    Datenbank nutzen und ihre Änderungen innerhab einer &#039;transaction&#039; verrichten. 
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.sqlite-popen-parameters">
  <h3 class="title">Parameter-Liste</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
       Der Dateiname der SQLite-Datenbank. Wenn die Datei nicht existiert, wird
       SQLite versuchen diese zu erzeugen. PHP muss dem zur Folge Schreibzugriff
       auf die Datei haben, in die Daten eingefügt oder das Datenbank-Schema geändert
       werden soll oder die angelegt wird, wenn sie nicht existiert.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">mode</code></dt>

     <dd>

      <p class="para">
       Der Modus der Datei. Vorgesehen für den Fall, dass die Datenbank im
       Nur-Lesen-Modus geöffnet werden soll. Dieser Parameter wird im Moment
       von der SQLite-Biblothek ignoriert. Der Standardwert für den Modus ist
       der oktale Wert <em>0666</em>. Dies ist auch der empfohlene
       Wert des Parameters.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">error_message</code></dt>

     <dd>

      <p class="para">
       Wird als Referenz übergeben und beinhaltet im Fehlerfall eine 
       aussagekräftige Fehlermeldung, die erklärt, warum die Datenbank nicht 
       geöffnet werden konnte.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.sqlite-popen-returnvalues">
  <h3 class="title">Rückgabewerte</h3>
  <p class="para">
   Liefert eine Ressource (Datenbank-Vebindung), wenn die Zuteilung einer
   Verbindung erfolgreich war, ansonsten <strong><code>FALSE</code></strong>.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.sqlite-popen-seealso">
  <h3 class="title">Siehe auch</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function">sqlite_open</span></li>
    <li class="member"><span class="function">sqlite_close</span></li>
    <li class="member"><span class="function">sqlite_factory</span></li>
   </ul>
  </p>
 </div>

</div>
        </td>
    </tr>
</table>
</body>
</html>
