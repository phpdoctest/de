<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP-Handbuch: Holt die Socket-Optionen f&uuml;r einen Socket</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP-Handbuch</a></li>
  <li class="header up"><a href="funcref.html">Funktionsreferenz</a></li>
  <li class="header up"><a href="refs.remote.other.html">Sonstige Dienste</a></li>
  <li class="header up"><a href="book.sockets.html">Sockets</a></li>
  <li class="header up"><a href="ref.sockets.html">Socket-Funktionen</a></li>
  <li><a href="function.socket-accept.html">socket_accept</a></li>
  <li><a href="function.socket-bind.html">socket_bind</a></li>
  <li><a href="function.socket-clear-error.html">socket_clear_error</a></li>
  <li><a href="function.socket-close.html">socket_close</a></li>
  <li><a href="function.socket-cmsg-space.html">socket_cmsg_space</a></li>
  <li><a href="function.socket-connect.html">socket_connect</a></li>
  <li><a href="function.socket-create-listen.html">socket_create_listen</a></li>
  <li><a href="function.socket-create-pair.html">socket_create_pair</a></li>
  <li><a href="function.socket-create.html">socket_create</a></li>
  <li class="active"><a href="function.socket-get-option.html">socket_get_option</a></li>
  <li><a href="function.socket-getopt.html">socket_getopt</a></li>
  <li><a href="function.socket-getpeername.html">socket_getpeername</a></li>
  <li><a href="function.socket-getsockname.html">socket_getsockname</a></li>
  <li><a href="function.socket-import-stream.html">socket_import_stream</a></li>
  <li><a href="function.socket-last-error.html">socket_last_error</a></li>
  <li><a href="function.socket-listen.html">socket_listen</a></li>
  <li><a href="function.socket-read.html">socket_read</a></li>
  <li><a href="function.socket-recv.html">socket_recv</a></li>
  <li><a href="function.socket-recvfrom.html">socket_recvfrom</a></li>
  <li><a href="function.socket-recvmsg.html">socket_recvmsg</a></li>
  <li><a href="function.socket-select.html">socket_select</a></li>
  <li><a href="function.socket-send.html">socket_send</a></li>
  <li><a href="function.socket-sendmsg.html">socket_sendmsg</a></li>
  <li><a href="function.socket-sendto.html">socket_sendto</a></li>
  <li><a href="function.socket-set-block.html">socket_set_block</a></li>
  <li><a href="function.socket-set-nonblock.html">socket_set_nonblock</a></li>
  <li><a href="function.socket-set-option.html">socket_set_option</a></li>
  <li><a href="function.socket-setopt.html">socket_setopt</a></li>
  <li><a href="function.socket-shutdown.html">socket_shutdown</a></li>
  <li><a href="function.socket-strerror.html">socket_strerror</a></li>
  <li><a href="function.socket-write.html">socket_write</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.socket-create.html">socket_create</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.socket-getopt.html">socket_getopt</a></div>
                <div class="up"><a href="ref.sockets.html">Socket-Funktionen</a></div>
                <div class="home"><a href="index.html">PHP-Handbuch</a></div>
            </div><hr/>
<div id="function.socket-get-option" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">socket_get_option</h1>
  <p class="refpurpose">Holt die Socket-Optionen für einen Socket </p>
 </div>

 <div class="refsect1 description" id="refsect1-function.socket-get-option-description">
  <h3 class="title">Beschreibung</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">mixed</span> <span class="methodname">socket_get_option</span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$socket</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$level</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$optname</code></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function">socket_get_option</span> gibt den Wert der Option zurück,
   der im Parameter <code class="parameter">optname</code> für den Socket
   <code class="parameter">socket</code> gesetzt wurde.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.socket-get-option-parameters">
  <h3 class="title">Parameter-Liste</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">socket</code></dt>

     <dd>

      <p class="para">
       Ein gültiger Socket-Deskriptor, der von der Funktion <span class="function">socket_create</span>
       oder <span class="function">socket_accept</span> erzeugt wurde.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">level</code></dt>

     <dd>

      <p class="para">
       Der Parameter <code class="parameter">level</code> enthält die Protokollebene,
       für die die Option gilt. Beispiel: Um Optionen auf der Socketebene
       abzufragen würde <code class="parameter">level</code> den Wert SQL_SOCKET
       enthalten. Andere Ebenen, etwa TCP, können abgefragt werden, indem man
       die Protokollnummer dieser Ebene angibt. Protokollnummern können mit
       einem Aufruf von <span class="function">getprotobyname</span> ermittelt werden.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">optname</code></dt>

     <dd>

      <table class="doctable table">
       <caption><strong>Mögliche Socket-Optionen</strong></caption>
       
        <thead>
         <tr>
          <th>Option</th>
          <th>Beschreibung</th>
          <th>Typ</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td>SO_DEBUG</td>
          <td>
           Gibt an, ob Debug-Informationen mitgeschrieben wurden.
          </td>
          <td>
           <span class="type">int</span>
          </td>
         </tr>

         <tr>
          <td>SO_BROADCAST</td>
          <td>
           Gibt an, ob die Übermittlung von Rundsende-Nachrichten unterstützt wird.
          </td>
          <td>
           <span class="type">int</span>
          </td>
         </tr>

         <tr>
          <td>SO_REUSEADDR</td>
          <td>
           Gibt an, ob die lokale Adresse wiederverwendet werden kann.
          </td>
          <td>
           <span class="type">int</span>
          </td>
         </tr>

         <tr>
          <td>SO_KEEPALIVE</td>
          <td>
           Gibt an, ob Verbindungen durch periodische Aussendungen von
           Nachrichten aufrecht erhalten werden. Falls der verbundene Socket
           nicht auf diese Nachrichten antworten kann, wird die Verbindung
           unterbrochen und Prozesse, die auf diesen Socket schreiben, erhalten
           ein SIGPIPE-Signal.
          </td>
          <td>
           <span class="type">int</span>
          </td>
         </tr>

         <tr>
          <td>SO_LINGER</td>
          <td>
           <p class="para">
            Gibt an, ob der <code class="parameter">socket</code> einen Aufruf von
            <span class="function">socket_close</span> verzögert, falls noch Daten
            vorhanden sind. In der Standardeinstellung versucht ein Socket vor
            dem Schließen, alle noch nicht gesendeten Daten zu übermitteln. Im
            Falle eines verbindungsorientierten Sockets, wartet
            <span class="function">socket_close</span> auf die Empfangsbestätigung seiner
            Gegenstelle.
           </p>
           <p class="para">
            Falls <var class="varname">l_onoff</var> von 0 verschieden und
            <var class="varname">l_linger</var> ist 0, werden bei einem
            verbindungsorientierten Socket alle noch nicht gesendeten Daten
            verworfen und das Signal RST (Reset) an die Gegenstelle gesendet.
           </p>
           <p class="para">
            Andererseits, falls sowohl <var class="varname">l_onoff</var> als auch
            <var class="varname">l_linger</var> von 0 verschieden sind, blockiert der
            Aufruf von <span class="function">socket_close</span> den Socket so lange,
            bis entweder alle Daten gesendet sind oder das Zeitlimit erreicht
            ist, das in <var class="varname">l_linger</var> gesetzt wurde. Wenn der
            Socket auf nicht-blockieren gesetzt ist, schlägt
            <span class="function">socket_close</span> fehl und gibt einen Fehler zurück.
           </p>
          </td>
          <td>
           <span class="type">array</span>. Das Array enthält zwei Schlüssel:
           <var class="varname">l_onoff</var> and
           <var class="varname">l_linger</var>.
          </td>
         </tr>

         <tr>
          <td>SO_OOBINLINE</td>
          <td>
           Gibt an, ob <code class="parameter">socket</code> die Übertragung von
           bandexternen Daten in der Reihenfolge überträgt, wie sie auftreten.
          </td>
          <td>
           <span class="type">int</span>
          </td>
         </tr>

         <tr>
          <td>SO_SNDBUF</td>
          <td>
           Gibt die Größe des Sendepuffers zurück.
          </td>
          <td>
           <span class="type">int</span>
          </td>
         </tr>

         <tr>
          <td>SO_RCVBUF</td>
          <td>
           Gibt die Größe des Empfangspuffers zurück.
          </td>
          <td>
           <span class="type">int</span>
          </td>
         </tr>

         <tr>
          <td>SO_ERROR</td>
          <td>
           Gibt den Fehlerstatus zurück und löscht ihn.
          </td>
          <td>
           <span class="type">int</span> (dieser Wert kann nicht von
           <span class="function">socket_set_option</span> gesetzt werden.)
          </td>
         </tr>

         <tr>
          <td>SO_TYPE</td>
          <td>
           Gibt den Typ von <code class="parameter">socket</code> zurück (z. B.
           <strong><code>SOCK_STREAM</code></strong>).
          </td>
          <td>
           <span class="type">int</span> (dieser Wert kann nicht von
           <span class="function">socket_set_option</span> gesetzt werden.)
          </td>
         </tr>

         <tr>
          <td>SO_DONTROUTE</td>
          <td>
           Gibt an, ob ausgehende Nachrichten das standardmässige Routing
           umgehen.
          </td>
          <td>
           <span class="type">int</span>
          </td>
         </tr>

         <tr>
          <td>SO_RCVLOWAT</td>
          <td>
           Gibt die Mindestanzahl Bytes an, die <code class="parameter">socket</code>
           bei einer Empfangsoperation verarbeiten soll. (Der Vorgabewert ist 1.)
          </td>
          <td>
           <span class="type">int</span>
          </td>
         </tr>

         <tr>
          <td>SO_RCVTIMEO</td>
          <td>
           Gibt den Wert der Zeitspanne bis zu einer Zeitüberschreitung
           bei Empfangsoperationen an.
          </td>
          <td>
           <span class="type">array</span>. Das Array enthält zwei Schlüssel:
           <var class="varname">sec</var>, den Sekunden-Anteil der Zeitspanne und
           <var class="varname">usec</var>, den Mikrosekunden-Anteil der Zeitspanne bis
           zu einer Zeitüberschreitung.
          </td>
         </tr>

         <tr>
          <td>SO_SNDTIMEO</td>
          <td>
           Gibt die Zeitspanne an, nach der eine Zeitüberschreitung bei
           Sendeoperationen ausgelöst wird. Eine Ausgabefunktion darf während
           der angegebenen Zeitspanne blockieren, falls die Ablaufsteuerung den
           Versand der Daten verhindert.
          </td>
          <td>
           <span class="type">array</span>.  Das Array enthält zwei Schlüssel:
           <var class="varname">sec</var> den Sekunden-Anteil der Zeitspanne und
           <var class="varname">usec</var> den Mikrosekunden-Anteil der Zeitspanne bis
           zu einer Zeitüberschreitung.
          </td>
         </tr>

         <tr>
          <td>SO_SNDLOWAT</td>
          <td>
           Gibt die Mindestanzahl Bytes an, die <code class="parameter">socket</code>
           bei einer Ausgabeoperation verarbeiten soll.
          </td>
          <td>
           <span class="type">int</span>
          </td>
         </tr>

        </tbody>
       
      </table>

     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.socket-get-option-returnvalues">
  <h3 class="title">Rückgabewerte</h3>
  <p class="para">
   Gibt den Wert der angegebenen Option zurück oder <strong><code>FALSE</code></strong>, falls ein Fehler auftrat..
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.socket-get-option-examples">
  <h3 class="title">Beispiele</h3>
  <p class="para">
   <div class="example" id="example-5036">
    <p><strong>Beispiel #1 <span class="function">socket_set_option</span>-Beispiel</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$socket&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">socket_create_listen</span><span style="color: #007700">(</span><span style="color: #0000BB">1223</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$linger&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'l_linger'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'l_onoff'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">socket_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SOL_SOCKET</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SO_LINGER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$linger</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">socket_get_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SOL_SOCKET</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SO_REUSEADDR</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.socket-get-option-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Beschreibung</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>4.3.0</td>
       <td>
        Der Name der Funktion wurde geändert. Sie ersetzt die bisherige
        Funktion <em>socket_getopt()</em>.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


</div>
        </td>
    </tr>
</table>
</body>
</html>
